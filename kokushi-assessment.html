<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>å›½å®¶è©¦é¨“å®Œå…¨å½¢å¼ çœ‹è­·ã‚¢ã‚»ã‚¹ãƒ¡ãƒ³ãƒˆ</title>

<style>

body{
font-family:sans-serif;
background:#eef5ff;
padding:20px;
}

.card{
background:white;
padding:20px;
margin:15px;
border-radius:10px;
box-shadow:0 0 10px rgba(0,0,0,0.1);
}

table{
border-collapse:collapse;
}

td{
border:1px solid #ccc;
padding:6px;
}

img{
width:300px;
margin-top:10px;
}

button{
padding:10px;
margin:5px;
width:280px;
}

.correct{color:green;font-weight:bold;}
.wrong{color:red;font-weight:bold;}

</style>

</head>

<body>

<h1>ğŸ©º å›½å®¶è©¦é¨“å½¢å¼ çœ‹è­·ã‚¢ã‚»ã‚¹ãƒ¡ãƒ³ãƒˆ</h1>

<div class="card">

<h2 id="caseNumber"></h2>

<h3>æ‚£è€…èƒŒæ™¯</h3>
<div id="patient"></div>

<h3>ãƒã‚¤ã‚¿ãƒ«</h3>
<div id="vital"></div>

<h3>æ¤œæŸ»å€¤</h3>
<table id="lab"></table>

<h3>ç”»åƒ</h3>
<img id="image">

<h3>æœè–¬</h3>
<div id="drug"></div>

</div>


<div class="card">

<h3>è³ªå•</h3>

å„ªå…ˆã—ã¦ã‚¢ã‚»ã‚¹ãƒ¡ãƒ³ãƒˆã™ã‚‹é …ç›®ã¯ã©ã‚Œã‹

<div id="choices"></div>

</div>


<div class="card">

<h3>çµæœ</h3>

<div id="result"></div>

</div>


<button onclick="nextCase()">æ¬¡ã®ç—‡ä¾‹</button>

<button onclick="resetQuiz()">æœ€åˆã«æˆ»ã‚‹</button>



<script>


// ===== ç—‡ä¾‹ãƒ‡ãƒ¼ã‚¿ =====

let cases=[


{
patient:
"82æ­³ç”·æ€§ã€‚å¿ƒä¸å…¨ã§å…¥é™¢ä¸­ã€‚æ˜¨æ—¥ã‹ã‚‰è„±åŠ›æ„Ÿã‚’è¨´ãˆã¦ã„ã‚‹ã€‚",

vital:
"BP 100/60 HR 58 SpOâ‚‚ 94%",

lab:
[
["Na","138"],
["K","2.8"],
["Cr","1.2"]
],

image:"images/ecg.jpg",

drug:
"ãƒ•ãƒ­ã‚»ãƒŸãƒ‰",

correct:
"è¡€æ¸…ã‚«ãƒªã‚¦ãƒ å€¤",

choices:
[
"è¡€ç³–å€¤",
"è¡€æ¸…ã‚«ãƒªã‚¦ãƒ å€¤",
"å‘¼å¸éŸ³",
"ç³å­”",
"çš®è†š"
],

explain:
"åˆ©å°¿è–¬ã¯ä½ã‚«ãƒªã‚¦ãƒ è¡€ç—‡ã‚’èµ·ã“ã™"


},


{
patient:
"68æ­³ç”·æ€§ã€‚ç³–å°¿ç—…ã€‚å†·æ±—ã¨ãµã‚‰ã¤ãã€‚",

vital:
"BP 120/70 HR 90",

lab:
[
["è¡€ç³–","42"]
],

image:"images/xray.jpg",

drug:
"ã‚¤ãƒ³ã‚¹ãƒªãƒ³",

correct:
"è¡€ç³–å€¤",

choices:
[
"è¡€åœ§",
"è¡€ç³–å€¤",
"å‘¼å¸éŸ³",
"å°¿é‡",
"SpOâ‚‚"
],

explain:
"ä½è¡€ç³–"


},


{
patient:
"75æ­³å¥³æ€§ã€‚é™åœ§è–¬é–‹å§‹å¾Œã€è¶³ã®æµ®è…«ã€‚",

vital:
"BP 130/80",

lab:
[
["BNP","50"]
],

image:"images/edema.jpg",

drug:
"ã‚¢ãƒ ãƒ­ã‚¸ãƒ”ãƒ³",

correct:
"æµ®è…«ã®ç¨‹åº¦",

choices:
[
"è¡€ç³–å€¤",
"æµ®è…«ã®ç¨‹åº¦",
"æ„è­˜",
"å°¿é‡",
"ä½“æ¸©"
],

explain:
"Caæ‹®æŠ—è–¬ã®å‰¯ä½œç”¨"


}


];



// ===== çŠ¶æ…‹ =====

let index=0;



function shuffle(array){

for(let i=array.length-1;i>0;i--){

let j=Math.floor(Math.random()*(i+1));

[array[i],array[j]]=[array[j],array[i]];

}

return array;

}



function showCase(){

let c=cases[index];


document.getElementById("caseNumber").innerText=
"ç—‡ä¾‹ "+(index+1);


document.getElementById("patient").innerText=c.patient;

document.getElementById("vital").innerText=c.vital;

document.getElementById("drug").innerText=c.drug;

document.getElementById("image").src=c.image;


// æ¤œæŸ»å€¤

let labHTML="";

c.lab.forEach(row=>{

labHTML+="<tr><td>"+row[0]+"</td><td>"+row[1]+"</td></tr>";

});

document.getElementById("lab").innerHTML=labHTML;


// é¸æŠè‚¢

let choices=shuffle([...c.choices]);

let html="";


choices.forEach(choice=>{

html+=`<button onclick="answer('${choice}')">

${choice}

</button><br>`;

});


document.getElementById("choices").innerHTML=html;

document.getElementById("result").innerHTML="";

}



function answer(choice){

let c=cases[index];

let result="";


if(choice==c.correct){

result="<span class='correct'>æ­£è§£</span><br>";

}else{

result="<span class='wrong'>ä¸æ­£è§£</span><br>";

result+="æ­£è§£ï¼š"+c.correct+"<br>";

}


result+="è§£èª¬ï¼š"+c.explain;


document.getElementById("result").innerHTML=result;

}



function nextCase(){

index++;

if(index>=cases.length){

index=0;

}

showCase();

}



function resetQuiz(){

index=0;

showCase();

}



showCase();


</script>

</body>

</html>
